from machine import Pin, ADC, PWM
from utime import sleep

100bits = {
	"\r":"3",
	"\t":"8",
	"\n":"13",
	" ":"18",
	"!":"23",
	"\"":"28",
	"#":"33",
	"$":"38",
	"%":"43",
	"&":"48",
	"'":"53",
	"(":"58",
	")":"63",
	"*":"68",
	"+":"73",
	",":"78",
	"-":"83",
	".":"88",
	"/":"93",
	"0":"98",
	"1":"103",
	"2":"108",
	"3":"113",
	"4":"118",
	"5":"123",
	"6":"128",
	"7":"133",
	"8":"138",
	"9":"143",
	":":"148",
	";":"153",
	"<":"158",
	"=":"163",
	">":"168",
	"?":"173",
	"@":"178",
	"A":"183",
	"B":"188",
	"C":"193",
	"D":"198",
	"E":"203",
	"F":"208",
	"G":"213",
	"H":"218",
	"I":"223",
	"J":"228",
	"K":"233",
	"L":"238",
	"M":"243",
	"N":"248",
	"O":"253",
	"P":"258",
	"Q":"263",
	"R":"268",
	"S":"273",
	"T":"278",
	"U":"283",
	"V":"288",
	"W":"293",
	"X":"298",
	"Y":"303",
	"Z":"308",
	"[":"313",
	"\\":"318",
	"]":"323",
	"^":"328",
	"_":"333",
	"`":"338",
	"a":"343",
	"b":"348",
	"c":"353",
	"d":"358",
	"e":"363",
	"f":"368",
	"g":"373",
	"h":"378",
	"i":"383",
	"j":"388",
	"k":"393",
	"l":"398",
	"m":"403",
	"n":"408",
	"o":"413",
	"p":"418",
	"q":"423",
	"r":"428",
	"s":"433",
	"t":"438",
	"u":"443",
	"v":"448",
	"w":"453",
	"x":"458",
	"y":"463",
	"z":"468",
	"{":"473",
	"|":"478",
	"}":"483",
	"~":"488",
	"â€™":"493"
}

adc = ADC(Pin(0))
pwm = PWM(Pin(1))
pwm.freq(60)

while True:
	pwm.duty_u16(1000)
	adc.read()
	sleep(1)

	countdata = len(data)
    counter = 0
    while counter < countdata:
        procces = data[counter]
        try:
            strap = 100bits[procces]
            a.write(strap)
            counter += 1
            result = 'ok!'
            if spiner_counter == 4:
                spiner_counter = 0
            animation(spiner_counter, starttime, strap, result)
            spiner_counter += 1
